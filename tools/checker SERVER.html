<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Checker Server Files FiveM - AL3MFALEH</title>
    <style>
    /* Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù„ÙˆØ§Ù† ÙÙ‚Ø· */
    :root { --main-color: #7aa2f7; --bg-color: #0a0a0b; --card-bg: #16161e; --accent-color: #9ece6a; }
    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: var(--bg-color); color: white; display: flex; flex-direction: column; align-items: center; padding: 20px; margin: 0; }
    .search-container { background: var(--card-bg); padding: 20px; border-radius: 12px; width: 100%; max-width: 500px; text-align: center; margin-bottom: 20px; border-bottom: 3px solid var(--main-color); border: 1px solid #24283b; border-bottom-width: 3px; }
    input { width: 85%; padding: 12px; border-radius: 5px; border: 1px solid #24283b; background: #1a1b26; color: white; margin: 10px 0; font-size: 16px; }
    button { padding: 12px 25px; border: none; border-radius: 5px; background: var(--main-color); color: #0a0a0b; cursor: pointer; font-weight: bold; font-size: 15px; }
    .column { background: var(--card-bg); padding: 20px; border-radius: 8px; border: 1px solid #24283b; }
    .grid-item { background: #1a1b26; padding: 8px; border-radius: 4px; font-size: 11px; text-align: center; border: 1px solid #24283b; color: #a9b1d6; }
    .resource-search { background: #0a0a0b !important; border-color: var(--main-color) !important; color: white !important; }

        /* Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø¹Ù„ÙˆÙŠ */
        .search-container { background: var(--card-bg); padding: 20px; border-radius: 12px; width: 100%; max-width: 500px; text-align: center; margin-bottom: 20px; border-bottom: 3px solid var(--main-color); box-shadow: 0 4px 15px rgba(0,0,0,0.3); }
        input { width: 85%; padding: 12px; border-radius: 5px; border: 1px solid #444; background: #40444b; color: white; margin: 10px 0; font-size: 16px; }
        button { padding: 12px 25px; border: none; border-radius: 5px; background: var(--main-color); color: white; cursor: pointer; font-weight: bold; font-size: 15px; }
        
        #results { width: 95%; max-width: 1200px; }
        
        /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØªÙ‚Ø³ÙŠÙ… (Ù…Ù„ÙØ§Øª ÙŠÙ…ÙŠÙ† | Ù„Ø§Ø¹Ø¨ÙŠÙ† ÙŠØ³Ø§Ø±) */
        .main-layout { display: flex; gap: 20px; align-items: flex-start; margin-top: 20px; }
        .column { background: var(--card-bg); padding: 20px; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.2); }
        .right-side { flex: 2; border-right: 5px solid var(--accent-color); } /* Ø§Ù„Ù…Ù„ÙØ§Øª */
        .left-side { flex: 1; border-right: 5px solid var(--main-color); } /* Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† */

        .section-title { color: var(--accent-color); font-size: 18px; font-weight: bold; margin-bottom: 15px; display: block; border-bottom: 1px solid #444; padding-bottom: 5px; }
        .resource-search { width: 95% !important; margin-bottom: 15px !important; border-color: var(--accent-color) !important; background: #1e2124 !important; }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø´Ø¨ÙƒØ© Ù„Ù„Ù…Ø±Ø¨Ø¹Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
        .grid-container { display: grid; grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); gap: 8px; }
        .grid-item { background: #40444b; padding: 8px; border-radius: 4px; font-size: 11px; text-align: center; border-bottom: 2px solid rgba(255,255,255,0.1); word-break: break-all; }
        .player-item { background: #36393f; border-color: var(--main-color); }

        .footer-rights { margin-top: 50px; padding: 20px; font-size: 14px; color: #72767d; width: 100%; text-align: center; border-top: 1px solid #444; }
        .rights-name { color: var(--main-color); font-weight: bold; }

        @media (max-width: 800px) { .main-layout { flex-direction: column; } }
    </style>
</head>
<body>

    <div class="search-container">
        <h2 style="margin:0 0 10px 0;">Checker Server files FiveM</h2>
        <input type="text" id="serverCode" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„Ø³ÙŠØ±ÙØ±">
        <br>
        <button onclick="searchServer()">Ø§Ø³ØªØ®Ø±Ø§Ø¬ ÙˆØªØµÙ†ÙŠÙ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
    </div>

    <div id="results"></div>

    <div class="footer-rights">
        ØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© <span class="rights-name">AL3MFALEH</span> &copy; 2026
    </div>

    <script>
        function filterResources() {
            const query = document.getElementById('resFilter').value.toLowerCase();
            const items = document.querySelectorAll('.grid-item-res');
            items.forEach(item => {
                item.style.display = item.innerText.toLowerCase().includes(query) ? 'block' : 'none';
            });
        }

        async function searchServer() {
            const code = document.getElementById('serverCode').value.trim();
            const resultsDiv = document.getElementById('results');
            if(!code) return alert("Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„Ø³ÙŠØ±ÙØ± Ø£ÙˆÙ„Ø§Ù‹");

            resultsDiv.innerHTML = "<h3 style='text-align:center;'>Ø¬Ø§Ø±ÙŠ Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³ÙŠØ±ÙØ±...</h3>";

            try {
                const response = await fetch(`https://servers-frontend.fivem.net/api/servers/single/${code}`);
                const { Data: data } = await response.json();

                const resourcesHtml = data.resources.map(r => `<div class="grid-item grid-item-res">${r}</div>`).join('');
                const playersHtml = data.players.length > 0 
                    ? data.players.map(p => `<div class="grid-item player-item">${p.name}</div>`).join('')
                    : "<p style='font-size:12px; opacity:0.6;'>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù„Ø§Ø¹Ø¨ÙŠÙ†</p>";

                resultsDiv.innerHTML = `
                    <h2 style="text-align:center; color:white; margin-bottom:10px;">${data.hostname.replace(/\^[0-9]/g, '')}</h2>
                    
                    <div class="main-layout">
                        <div class="column right-side">
                            <span class="section-title">ğŸ“‚ Files explored (${data.resources.length})</span>
                            <input type="text" id="resFilter" class="resource-search" placeholder="Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…Ù„ÙØ§Øª..." onkeyup="filterResources()">
                            <div class="grid-container">
                                ${resourcesHtml}
                            </div>
                        </div>

                        <div class="column left-side">
                            <span class="section-title" style="color:var(--main-color)">ğŸ‘¤ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø§Ù„Ù…ØªØµÙ„ÙŠÙ† (${data.clients})</span>
                            <div class="grid-container" style="grid-template-columns: 1fr;">
                                ${playersHtml}
                            </div>
                        </div>
                    </div>
                `;
            } catch (e) {
                resultsDiv.innerHTML = "<p style='color:#f04747; text-align:center;'>âŒ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙŠØ±ÙØ±.</p>";
            }
        }
    </script>
</body>
</html>