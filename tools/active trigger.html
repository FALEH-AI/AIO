<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Trigger status | AL3MFALEH</title>
    <style>
    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #0a0a0b; color: white; display: flex; justify-content: center; padding: 20px; }
    .card { background: #16161e; padding: 25px; border-radius: 12px; box-shadow: 0 8px 20px rgba(0,0,0,0.5); width: 480px; position: relative; border: 1px solid #7aa2f7; }
    h2 { text-align: center; color: #7aa2f7; margin-bottom: 20px; text-transform: uppercase; letter-spacing: 1px; }
    label { display: block; margin-top: 15px; font-size: 14px; color: #a9b1d6; }
    input, select, button, textarea { width: 100%; padding: 12px; margin-top: 8px; border-radius: 6px; border: 1px solid #24283b; box-sizing: border-box; }
    input, select, textarea { background-color: #1a1b26; color: white; font-family: 'Consolas', monospace; }
    .btn-send { background-color: #7aa2f7; color: #0a0a0b; margin-top: 20px; font-size: 16px; font-weight: bold; }
    .btn-send:hover { background-color: #89ddff; }
    .btn-settings { background-color: #24283b; color: #7aa2f7; font-size: 11px; padding: 6px 12px; border: 1px solid #7aa2f7; }
    .footer-rights { border-top: 1px solid #24283b; color: #7aa2f7; }
</style>
</head>
<body>

<div class="card">
    <div class="header-area">
        <button class="btn-settings" onclick="editWebhooksPopup()">âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ÙˆÙŠØ¨ Ù‡ÙˆÙƒ</button>
    </div>
    <h2>ğŸš€ Trigger ğ–²tatus</h2>
    
    <label>ÙƒÙˆØ¯ Ø§Ù„ØªØ±ÙŠØ¬Ø±:</label>
    <textarea id="triggerCode" rows="5" placeholder="Ø£Ù„ØµÙ‚ ÙƒÙˆØ¯ FiveM Ù‡Ù†Ø§..."></textarea>

    <label>Ø­Ø§Ù„Ø© Ø§Ù„ØªØ±ÙŠØ¬Ø±:</label>
    <select id="triggerStatus">
        <option value="working">Ø´ØºØ§Ù„ âœ…</option>
        <option value="broken">Ù…Ø¹Ø·Ù„ âŒ</option>
    </select>

    <button class="btn-send" id="sendBtn" onclick="sendToDiscord()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ«</button>

    <p id="responseMsg"></p>

    <div class="footer-rights">
        DEVELOPED BY <span>AL3MFALEH</span> Â© 2026
    </div>
</div>

<script>
    // Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø§Ù„ØªÙŠ Ø²ÙˆØ¯ØªÙ†ÙŠ Ø¨Ù‡Ø§
    const defaultMain = "https://discord.com/api/webhooks/1457963238472814637/L5310W7JVYdSFjvnSAUAQt7tyAmcGmPBkv3v50BSI3OZ4-cM-tXqzBiBdcUhReTC37Hc";
    const defaultEmergency = "https://discord.com/api/webhooks/1457965562947829865/Raj3glMZUKFCjWH-dIEH6iSP4tUpRh-tjvrRa4ohwJ20cNOIkylvtwRHLExEjjBs1zYR";

    // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø¹Ù†Ø¯ Ø£ÙˆÙ„ ØªØ´ØºÙŠÙ„ Ù„Ù„Ù…ØªØµÙØ­
    window.onload = function() {
        if (!localStorage.getItem('webhook_main')) {
            localStorage.setItem('webhook_main', defaultMain);
        }
        if (!localStorage.getItem('webhook_emergency')) {
            localStorage.setItem('webhook_emergency', defaultEmergency);
        }
    };

    function editWebhooksPopup() {
        const currentW1 = localStorage.getItem('webhook_main') || defaultMain;
        const currentW2 = localStorage.getItem('webhook_emergency') || defaultEmergency;

        const w1 = prompt("1. Ø±Ø§Ø¨Ø· Ø§Ù„ÙˆÙŠØ¨ Ù‡ÙˆÙƒ (Ù„Ù„Ø­Ø§Ù„Ø©: Ø´ØºØ§Ù„):", currentW1);
        if (w1 !== null) {
            localStorage.setItem('webhook_main', w1);
            const w2 = prompt("2. Ø±Ø§Ø¨Ø· ÙˆÙŠØ¨ Ù‡ÙˆÙƒ (Ù„Ù„Ø­Ø§Ù„Ø©: Ù…Ø¹Ø·Ù„):", currentW2);
            if (w2 !== null) {
                localStorage.setItem('webhook_emergency', w2);
                showStatus("âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø¨Ù†Ø¬Ø§Ø­", "#7289da");
            }
        }
    }

    function sendToDiscord() {
        const code = document.getElementById('triggerCode').value;
        const statusValue = document.getElementById('triggerStatus').value;
        const statusText = document.getElementById('triggerStatus').options[document.getElementById('triggerStatus').selectedIndex].text;

        let targetWebhook = statusValue === "working" ? localStorage.getItem('webhook_main') : localStorage.getItem('webhook_emergency');

        if (!targetWebhook) { alert("ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ÙˆÙŠØ¨ Ù‡ÙˆÙƒ âš™ï¸"); return; }
        if (!code) { alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙƒÙˆØ¯ Ø£ÙˆÙ„Ø§Ù‹!"); return; }

        const payload = {
            embeds: [{
                title: statusValue === "working" ? "âœ… Trigger Status: Working" : "âš ï¸ Trigger Status: Broken",
                color: statusValue === "working" ? 3066993 : 15158332,
                fields: [
                    { name: "Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©", value: `**${statusText}**`, inline: false },
                    { name: "ÙƒÙˆØ¯ Ø§Ù„Ù†Ø³Ø®:", value: "```lua\n" + code + "\n```", inline: false }
                ],
                footer: { text: "System Developed by AL3MFALEH | Trigger Status" },
                timestamp: new Date()
            }]
        };

        const btn = document.getElementById('sendBtn');
        btn.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...";
        btn.disabled = true;

        fetch(targetWebhook, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
        })
        .then(res => {
            if (!res.ok) throw new Error();
            showStatus(`âœ… ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­ Ø¨ÙˆØ§Ø³Ø·Ø© AL3MFALEH`, "#43b581");
        })
        .catch(() => alert("ÙØ´Ù„ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„!"))
        .finally(() => {
            btn.innerText = "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ«";
            btn.disabled = false;
        });
    }

    function showStatus(text, color) {
        const msg = document.getElementById('responseMsg');
        msg.innerText = text;
        msg.style.color = color;
        setTimeout(() => { msg.innerText = ""; }, 4000);
    }
</script>

</body>
</html>