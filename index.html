<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>AL3MFALEH AIO Tool | ğŸš€</title>
    <style>
        :root {
            --bg: #0a0a0b;
            --sidebar-bg: #111116;
            --accent: #7aa2f7;
            --border: #24283b;
            --text: #a9b1d6;
            --purple: #7d5fff;
            --green: #2ecc71;
            --orange: #e67e22;
        }
        body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; background: var(--bg); font-family: 'Segoe UI', sans-serif; }
        
        .sidebar {
            position: fixed; right: 0; top: 0; bottom: 0; width: 80px; 
            background: var(--sidebar-bg); display: flex; flex-direction: column; 
            align-items: center; padding-top: 20px; border-left: 1px solid var(--border); z-index: 9999;
        }

        .nav-item {
            width: 50px; height: 50px; margin-bottom: 15px; background: #1a1b26; 
            border-radius: 12px; display: flex; align-items: center; justify-content: center; 
            cursor: pointer; transition: 0.3s; position: relative; font-size: 20px;
            border: 1px solid var(--border);
        }

        .nav-item:hover { background: var(--accent); color: white; transform: scale(1.1); }
        .nav-item.active { background: var(--accent); color: white; box-shadow: 0 0 15px rgba(122, 162, 247, 0.4); }

        .nav-item::after {
            content: attr(data-title);
            position: absolute; right: 85px; background: #1a1b26; color: white;
            padding: 5px 10px; border-radius: 5px; font-size: 12px; white-space: nowrap;
            opacity: 0; pointer-events: none; transition: 0.2s; border: 1px solid var(--border);
        }
        .nav-item:hover::after { opacity: 1; right: 80px; }

        .content { margin-right: 80px; height: 100vh; position: relative; }
        iframe { width: 100%; height: 100%; border: none; display: none; }
        iframe.active { display: block; }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø­Ù‚ÙˆÙ‚ ÙˆØ§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø³ÙÙ„ÙŠØ© */
        .bottom-section {
            margin-top: auto;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-bottom: 15px;
        }

        .credits { 
            font-size: 10px; 
            color: #444; 
            font-weight: bold; 
            text-align: center;
            width: 100%;
            margin-top: 10px;
            letter-spacing: 0.5px;
            white-space: nowrap;
        }
        
        .btn-export { color: var(--green); border-color: var(--green); }
        .btn-import { color: var(--orange); border-color: var(--orange); }
    </style>
</head>
<body>

    <div class="sidebar">
        <div class="nav-item active" onclick="switchTool('finding', this)" data-title="Ø¨Ø­Ø« Ø§Ù„ØªØ±ÙŠÙ‚Ø±Ø§Øª">ğŸ“‚</div>
        <div class="nav-item" onclick="switchTool('generator', this)" data-title="ØµØ§Ù†Ø¹ Ø§Ù„ØªØ±ÙŠÙ‚Ø±Ø§Øª">ğŸ› ï¸</div>
        <div class="nav-item" onclick="switchTool('shops', this)" data-title="ØµØ§Ù†Ø¹ Ø§Ù„Ù…ØªØ§Ø¬Ø±" style="color: var(--purple);">ğŸ›’</div>
        <div class="nav-item" onclick="switchTool('checker', this)" data-title="ÙØ§Ø­Øµ Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª">ğŸ”</div>
        <div class="nav-item" onclick="switchTool('active', this)" data-title="Ø­Ø§Ù„Ø© Ø§Ù„ØªØ±ÙŠØ¬Ø±">ğŸš€</div>
        <div class="nav-item" onclick="switchTool('map', this)" data-title="Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹">ğŸ“</div>

        <div class="bottom-section">
            <div class="nav-item btn-export" onclick="exportData()" data-title="Ø­ÙØ¸ ÙƒÙ„ Ø¨ÙŠØ§Ù†Ø§ØªÙŠ">ğŸ’¾</div>
            
            <div class="nav-item btn-import" onclick="document.getElementById('importInput').click()" data-title="Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ">ğŸ“¥</div>
            <input type="file" id="importInput" style="display:none" accept=".json" onchange="importData(event)">
            
            <div class="credits">AL3MFALEH Â©</div>
        </div>
    </div>

    <div class="content">
        <iframe id="frame-finding" src="tools/Triggers Finding.html" class="active"></iframe>
        <iframe id="frame-generator" src="tools/trigger tool.html"></iframe>
        <iframe id="frame-shops" src="tools/shops_maker.HTML"></iframe>
        <iframe id="frame-checker" src="tools/checker SERVER.html"></iframe>
        <iframe id="frame-active" src="tools/active trigger.html"></iframe>
        <iframe id="frame-map" src="tools/MAP_AL3MFALEH.html"></iframe>
    </div>

    <script>
        function switchTool(id, btn) {
            document.querySelectorAll('iframe').forEach(f => f.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(b => b.classList.remove('active'));
            const target = document.getElementById('frame-' + id);
            if(target) target.classList.add('active');
            btn.classList.add('active');
        }

        // ÙˆØ¸ÙŠÙØ© Ø­ÙØ¸ (ØªØµØ¯ÙŠØ±) Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function exportData() {
            const data = {};
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                data[key] = localStorage.getItem(key);
            }
            if (Object.keys(data).length === 0) return alert("Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø­ÙØ¸Ù‡Ø§!");

            const blob = new Blob([JSON.stringify(data)], { type: "application/json" });
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = "AL3MFALEH_DATA.json";
            a.click();
        }

        // ÙˆØ¸ÙŠÙØ© Ø±ÙØ¹ (Ø§Ø³ØªÙŠØ±Ø§Ø¯) Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function importData(event) {
            const file = event.target.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const json = JSON.parse(e.target.result);
                    if (confirm("Ø³ÙŠØªÙ… Ø¯Ù…Ø¬ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ù…Ø±ÙÙˆØ¹ Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø§Ù„Ø­Ø§Ù„ÙŠØ© ÙˆØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø©. Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ")) {
                        Object.keys(json).forEach(k => localStorage.setItem(k, json[k]));
                        window.location.reload();
                    }
                } catch (err) { alert("âŒ Ø®Ø·Ø£: Ø§Ù„Ù…Ù„Ù ØºÙŠØ± ØµØ§Ù„Ø­!"); }
            };
            reader.readAsText(file);
        }
    </script>
</body>
</html>